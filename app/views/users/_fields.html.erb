<%# We render this by explicity passing in f: render 'fields', f: f %>
<%= f.fields_for :profile, Profile.new do |ff| %>

	<p>
		<div class="row-fluid">
			<div class="span6">
				<%= ff.label :first_name, "Your first name" %>
				<%= ff.text_field :first_name, value: 
									"#{@profile.first_name if @profile}" %>
			</div>
			<div class="span6">
				<%= ff.label :last_name, "Your last name" %>
				<%= ff.text_field :last_name, value: 
									"#{@profile.last_name if @profile}" %>
			</div>
		</div>
	</p>
<% end %>

<p>
	<%= f.label :email, "Your email address" %>
	<%= f.text_field :email %>
</p>

<p>
	<%= f.label :password, "Choose a password" %>
	<%= f.password_field :password %>
</p>

<p>
	<%= f.label :password_confirmation, "Confirm your password" %>
	<%= f.password_field :password_confirmation %>
</p>